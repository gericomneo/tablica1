<!doctype html>
<html lang="en">
<head>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script type="text/javascript">
      var myContacts = $.getJSON('http://api.nbp.pl/api/exchangerates/rates/a/gbp/last/10/?format=json', function( json ) {
          console.log(json); return json;});
       
      function generateDynamicTable(){
        
          var noOfContacts = myContacts.length;
          
          if(noOfContacts>0){
            
       
            // CREATE DYNAMIC TABLE.
            var table = document.createElement("table");
            table.style.width = '50%';
            table.setAttribute('border', '1');
            table.setAttribute('cellspacing', '0');
            table.setAttribute('cellpadding', '5');
            
            // retrieve column header
       
            var col = []; // define an empty array
            for (var i = 0; i < noOfContacts; i++) {
              for (var key in myContacts[i]) {
                if (col.indexOf(key) === -1) {
                  col.push(key);
                }
              }
            }
            
            // CREATE TABLE HEAD .
            var tHead = document.createElement("thead");	
              
            
            // CREATE ROW FOR TABLE HEAD .
            var hRow = document.createElement("tr");
            
            // ADD COLUMN HEADER TO ROW OF TABLE HEAD.
            for (var i = 0; i < col.length; i++) {
                var th = document.createElement("th");
                th.innerHTML = col[i];
                hRow.appendChild(th);
            }
            tHead.appendChild(hRow);
            table.appendChild(tHead);
            
            // CREATE TABLE BODY .
            var tBody = document.createElement("tbody");	
            
            // ADD COLUMN HEADER TO ROW OF TABLE HEAD.
            for (var i = 0; i < noOfContacts; i++) {
            
                var bRow = document.createElement("tr"); // CREATE ROW FOR EACH RECORD .
                
                
                for (var j = 0; j < col.length; j++) {
                  var td = document.createElement("td");
                  td.innerHTML = myContacts[i][col[j]];
                  bRow.appendChild(td);
                }
                tBody.appendChild(bRow)
       
            }
            table.appendChild(tBody);	
            
            
            // FINALLY ADD THE NEWLY CREATED TABLE WITH JSON DATA TO A CONTAINER.
            var divContainer = document.getElementById("myContacts");
            divContainer.innerHTML = "";
            divContainer.appendChild(table);
            
          }	
        }
       
      </script>
  <meta charset="utf-8">
  <title>Main</title>
  <base href="/">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/x-icon" href="favicon.ico">
<link rel="stylesheet" href="styles.3ff695c00d717f2d2a11.css"></head>
<body onload="generateDynamicTable()">
    <div class="grid tCenter">
        <!-- Div element to display result -->
          <div id="myContacts">
            <p>You have zero contacts</p>
          </div>
      </div>
  <app-root></app-root>
<script src="polyfills-es5.3aa54d3e5134f5b5b842.js" nomodule defer></script><script src="polyfills-es2015.fd917e7c3ed57f282ee5.js" type="module"></script><script src="runtime-es2015.24b02acc1f369d9b9f37.js" type="module"></script><script src="main-es2015.a338fb240c47f0ff18bd.js" type="module"></script><script src="runtime-es5.24b02acc1f369d9b9f37.js" nomodule defer></script><script src="main-es5.a338fb240c47f0ff18bd.js" nomodule defer></script></body>
</html>